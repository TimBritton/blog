<!DOCTYPE html><html><head><title>Blog | Full Stack Dart</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><meta name="robots" content="index,follow"><meta name="theme-color" content="#212121"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link href="https://fonts.googleapis.com/css?family=Hind:400,700&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet"><style>
      body, input, button {
        font-family: 'Hind', sans-serif;
      }

      code, .hljs {
        font-family: 'Source Code Pro', 'Courier New', Courier, monospace;
      }

      .icon-font {
        font-family: 'Material Icons';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;  /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
      
        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;
      
        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;
      
        /* Support for IE. */
        font-feature-settings: 'liga';
      }

      .icon-font.outline {
        font-family: 'Material Icons Outlined';
      }
    </style><link href="/blog/styles/codedoc-styles.css" rel="stylesheet"><script async="" defer="" src="/blog/bundle/codedoc-bundle.js"></script></head><body><div class="header-0-0-4"></div><div id="-codedoc-container" class="container"><h1 id="full-stack-dart" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Full Stack Dart</h1><p>Around a year ago I started looking at Flutter as an option at work to reduce the cognitive load of developing two separate native apps for the platform I work on.  It started with the exciting possibility of only having to write the native hardware requirements of our app related to BLE and being able to write the UI in a single express framework.</p><p>After months I managed to craft a POC showing that we could actually rebuild the app and it would allow us to cut what was two large mobile codebases into a single smaller one.</p><p>Fast forward a year later and Quarantine has happened and I have spare time to work on my personal projects and I started to think (<em>This is where I usually get in trouble</em>).  </p><p>Dart has been around since 2013 but its really hitting its stride in the last year or so as Flutter has grown in hype/popularity.  I remember reading an article a couple months ago about how Google was thinking that Dart might be a good language to use for Cloud Functions.  So that got me thinking again...</p><blockquote><p>"Is it possible to build a full-stack dart application?"</p></blockquote><p><strong>TLDR:  "Yes, But...."</strong></p><p>This is the story of how I built a mostly functional Dart REST platform in a single day.</p><h2 id="deciding-what-to-build" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Deciding what to build!</h2><p>When I decide to YOLO build something usually I have something I want to build and this is one of those cases.  I play a lot of D&amp;D and I enjoy it a lot.  I have this campaign I'm working on that is kind of like the Pathfinder Kingmaker campaign setting but it has a lot of homebrew in it.  So rather than keeping track of everything in a spreadsheet-like I used to I wanted to build an app that I can host on the internet that people can connect to.</p><h3 id="requirements" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Requirements:</h3><ul><li>Should be a publically available app</li><li>Should not require a download</li><li>The app should synchronize between the different users</li><li>The app should allow me to keep notes from non-admin users</li><li>The app should have a basic account system</li><li>The app should have some sort of Auth</li></ul><p>Stretch Goals:</p><ul><li>It should be able to integrate with my foundry vtt app I'm hosting.</li></ul><h2 id="discovering-the-world-of-dart-rest-apis" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Discovering the World of Dart Rest APIs</h2><p><em>TLDR: Solid Simple frameworks and fairly quick to get started but there are some pain points</em></p><p>After I set some goals I started digging into what I refer to as the <em>dart</em> story.  I am familiar enough with the language itself from my work with Flutter so figuring out how to write a REST API focused more on finding the right framework and understanding what the threading model would look like for a backend application.</p><p>Flutter operates mostly on a single thread where you can run long-running operations in <strong>Isolates</strong>.  I decided that I would do the same think on the backend since I didn't need to scale this project beyond 10 people.  </p><p>After looking into what frameworks would be available to ease backend development I settled on using <strong>Shelf</strong>.  <a href="https://pub.dev/packages/shelf">Shelf</a> was by far the simplest framework I saw and combined with the Shelf Router package I was able to spin up a very simple REST API.</p><pre class="with-bar"><code class="dart code-0-0-11" tabindex="0"><span class="wmbar-0-0-14"><span></span><span></span><span></span><span>main.dart</span></span><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">1</span></div><br><div class="line-0-0-13 " data-content="import 'package:shelf/shelf.dart' as shelf;"><span class="lineCounter-0-0-12">2</span><span class="token keyword">import</span> <span class="token string">'package:shelf/shelf.dart'</span> <span class="token operator">as</span> shelf<span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="import 'package:shelf/shelf.dart';"><span class="lineCounter-0-0-12">3</span><span class="token keyword">import</span> <span class="token string">'package:shelf/shelf.dart'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="import 'package:shelf/shelf_io.dart' as io;"><span class="lineCounter-0-0-12">4</span><span class="token keyword">import</span> <span class="token string">'package:shelf/shelf_io.dart'</span> <span class="token operator">as</span> io<span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="import 'package:args/args.dart';"><span class="lineCounter-0-0-12 prim">5</span><span class="token keyword">import</span> <span class="token string">'package:args/args.dart'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="import 'package:shelf_router/shelf_router.dart';"><span class="lineCounter-0-0-12">6</span><span class="token keyword">import</span> <span class="token string">'package:shelf_router/shelf_router.dart'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="import 'dart:io';"><span class="lineCounter-0-0-12">7</span><span class="token keyword">import</span> <span class="token string">'dart:io'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">8</span></div><br><div class="line-0-0-13 " data-content="const _hostname = 'localhost';"><span class="lineCounter-0-0-12">9</span><span class="token keyword">const</span> _hostname <span class="token operator">=</span> <span class="token string">'localhost'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">10</span></div><br><div class="line-0-0-13 " data-content="void main(List<String> args) async {"><span class="lineCounter-0-0-12">11</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> args<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">12</span></div><br><div class="line-0-0-13 " data-content="  var parser = ArgParser()..addOption('port', abbr: 'p');"><span class="lineCounter-0-0-12">13</span>  <span class="token keyword">var</span> parser <span class="token operator">=</span> <span class="token function">ArgParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addOption</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">,</span> abbr<span class="token punctuation">:</span> <span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  var result = parser.parse(args);"><span class="lineCounter-0-0-12">14</span>  <span class="token keyword">var</span> result <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">15</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">16</span></div><br><div class="line-0-0-13 " data-content="  var portStr = result['port'] ?? Platform.environment['PORT'] ?? '8080';"><span class="lineCounter-0-0-12">17</span>  <span class="token keyword">var</span> portStr <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token string">'port'</span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> Platform<span class="token punctuation">.</span>environment<span class="token punctuation">[</span><span class="token string">'PORT'</span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">'8080'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  var port = int.tryParse(portStr);"><span class="lineCounter-0-0-12">18</span>  <span class="token keyword">var</span> port <span class="token operator">=</span> int<span class="token punctuation">.</span><span class="token function">tryParse</span><span class="token punctuation">(</span>portStr<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">19</span></div><br><div class="line-0-0-13 " data-content="  if (port == null) {"><span class="lineCounter-0-0-12 prim">20</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>port <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content="    stdout.writeln('Could not parse port value &quot;$portStr&quot; into a number.');"><span class="lineCounter-0-0-12">21</span>    stdout<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">'Could not parse port value "$portStr" into a number.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="    exitCode = 64;"><span class="lineCounter-0-0-12">22</span>    exitCode <span class="token operator">=</span> <span class="token number">64</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="    return;"><span class="lineCounter-0-0-12">23</span>    <span class="token keyword">return</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  }"><span class="lineCounter-0-0-12">24</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">25</span></div><br><div class="line-0-0-13 " data-content="  /// Set up dependency tree;"><span class="lineCounter-0-0-12">26</span>  <span class="token comment">/// Set up dependency tree;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">27</span></div><br><div class="line-0-0-13 " data-content="  var router = Router();"><span class="lineCounter-0-0-12">28</span>  <span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">29</span></div><br><div class="line-0-0-13 " data-content="  router.get('/', (Request request) {"><span class="lineCounter-0-0-12 prim">30</span>  router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Request request<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content="      return Response.ok('running');"><span class="lineCounter-0-0-12">31</span>      <span class="token keyword">return</span> Response<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">'running'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  });"><span class="lineCounter-0-0-12">32</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">33</span></div><br><div class="line-0-0-13 " data-content="  router.get('/hello/<name>', (Request request, String name){"><span class="lineCounter-0-0-12">34</span>  router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/hello/&lt;name&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Request request<span class="token punctuation">,</span> String name<span class="token punctuation">)</span><span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content="      return shelf.Response.ok(&quot;Hello $name&quot;);"><span class="lineCounter-0-0-12 prim">35</span>      <span class="token keyword">return</span> shelf<span class="token punctuation">.</span>Response<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">"Hello $name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  });"><span class="lineCounter-0-0-12">36</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">37</span></div><br><div class="line-0-0-13 " data-content="  var handler = const shelf.Pipeline()"><span class="lineCounter-0-0-12">38</span>  <span class="token keyword">var</span> handler <span class="token operator">=</span> <span class="token keyword">const</span> shelf<span class="token punctuation">.</span><span class="token function">Pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span></div><br><div class="line-0-0-13 " data-content="      .addMiddleware(shelf.logRequests())"><span class="lineCounter-0-0-12">39</span>      <span class="token punctuation">.</span><span class="token function">addMiddleware</span><span class="token punctuation">(</span>shelf<span class="token punctuation">.</span><span class="token function">logRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div><br><div class="line-0-0-13 " data-content="      .addHandler(router.handler);"><span class="lineCounter-0-0-12 prim">40</span>      <span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">41</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">42</span></div><br><div class="line-0-0-13 " data-content="  var server = await io.serve(handler, _hostname, port);"><span class="lineCounter-0-0-12">43</span>  <span class="token keyword">var</span> server <span class="token operator">=</span> <span class="token keyword">await</span> io<span class="token punctuation">.</span><span class="token function">serve</span><span class="token punctuation">(</span>handler<span class="token punctuation">,</span> _hostname<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  print('Serving at http://${server.address.host}:${server.port}');"><span class="lineCounter-0-0-12">44</span>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Serving at http://${server.address.host}:${server.port}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="}"><span class="lineCounter-0-0-12 prim">45</span><span class="token punctuation">}</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">46</span></div><br></code></pre><p>I guess this would be a good time to mention that I found out about <strong>Stagehand</strong> at this point.  Stagehand will allow you to generate dart projects.  I used it to generate both my backend project and the project that I use to share view object between the backend and the frontend currently written in Flutter (for web).</p><h3 id="databasing-in-the-world-of-dart" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Databasing in the world of dart</h3><p>I would love to say that databasing was as easy as getting started but unfortunately that's not the case.  I wanted a simple database connection I wouldn't have to host on my target environment.  I was hoping to use sqlite or firebase but I ran into problems trying to use them with dartvm.  </p><p>The problem resulted from how the libraries were designed to be used either in Flutter or in dartjs where the HTML package was available.  In this case neither were correct so I was unable to use them.</p><p>I also tried to use the in-memory database from the <a href="https://pub.dev/packages/database">database</a> package where the API looked really nice but unfortunately I ran into a lot of the same problems I had with the other initial databases I looked into.</p><p>That leads me into discussing the database that I ended up going with and that is called <a href="https://pub.dev/packages/sembast">Sembast</a> which is a document database similar to nedb from nodejs.  </p><p>It fit the niche that I was looking for in a database and was reasonably fast.  I am getting around 8ms response times in most cases and with the data sizing I'm expecting in this app I doubt it will get any worse.</p><h4 id="example-of-data-in-the-sembast-database" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Example of data in the Sembast database</h4><pre class="with-bar"><code class="json code-0-0-11" tabindex="0"><span class="wmbar-0-0-14"><span></span><span></span><span></span><span>local.db</span></span><div class="line-0-0-13 " data-content="{&quot;version&quot;:1,&quot;sembast&quot;:1}"><span class="lineCounter-0-0-12 prim">1</span><span class="token punctuation">{</span><span class="token property">"version"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">"sembast"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span></div><br><div class="line-0-0-13 " data-content="{&quot;key&quot;:4,&quot;value&quot;:{&quot;id&quot;:&quot;05b31344-afa0-4e80-9546-07a7ce6d2c6d&quot;,&quot;name&quot;:&quot;house name 1&quot;,&quot;currentDate&quot;:{&quot;dayOfYear&quot;:0,&quot;year&quot;:0,&quot;month&quot;:&quot;a&quot;,&quot;dayOfMonth&quot;:1},&quot;events&quot;:[],&quot;memberIds&quot;:[],&quot;type&quot;:&quot;HOUSE&quot;}}"><span class="lineCounter-0-0-12">2</span><span class="token punctuation">{</span><span class="token property">"key"</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token property">"value"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token string">"05b31344-afa0-4e80-9546-07a7ce6d2c6d"</span><span class="token punctuation">,</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"house name 1"</span><span class="token punctuation">,</span><span class="token property">"currentDate"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"dayOfYear"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">"year"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">"month"</span><span class="token operator">:</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token property">"dayOfMonth"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"events"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">"memberIds"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"HOUSE"</span><span class="token punctuation">}</span><span class="token punctuation">}</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">3</span></div><br></code></pre><p>It's a pretty standard nosql database which made it fairly easy to view and tweak the data if I needed to fix certain conditions.  I also appreciate the fact it does soft deletes which was a nice little feature. (I didn't include that in the example above.)</p><h3 id="json-handling" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Json handling</h3><p>If you are familiar with Flutter you know that it doesn't have runtime reflection and since I'm targeting Flutter for my frontend when it came to my view objects I needed to solve the problem on how to generate the JSON that was going to power my app.</p><p>I intially planned on writing all the Json handling manually because I'm a glutten for punishment but after I started looking around for something else I found a project called <a href="https://pub.dev/packages/json_serializable">json_serializable</a>.  I heard about this package mentioned a while ago on a talk by the Flutter team but I didn't think to look it up.  I missed out because this package saved me so much time.  Being able to generate the json serialization and deserialization methods so easily meant I could get to the interesting stuff a lot faster. </p><h4 id="serialization-example" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Serialization example</h4><pre class="with-bar"><code class="dart code-0-0-11" tabindex="0"><span class="wmbar-0-0-14"><span></span><span></span><span></span><span>user.dart</span></span><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">1</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">2</span></div><br><div class="line-0-0-13 " data-content="import 'package:json_annotation/json_annotation.dart';"><span class="lineCounter-0-0-12">3</span><span class="token keyword">import</span> <span class="token string">'package:json_annotation/json_annotation.dart'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">4</span></div><br><div class="line-0-0-13 " data-content="part 'user.g.dart';"><span class="lineCounter-0-0-12 prim">5</span><span class="token keyword">part</span> <span class="token string">'user.g.dart'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">6</span></div><br><div class="line-0-0-13 " data-content="@JsonSerializable(nullable: false)"><span class="lineCounter-0-0-12">7</span><span class="token metadata symbol">@JsonSerializable</span><span class="token punctuation">(</span>nullable<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span></div><br><div class="line-0-0-13 " data-content="class User {"><span class="lineCounter-0-0-12">8</span><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content="  bool admin;"><span class="lineCounter-0-0-12">9</span>  bool admin<span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  String name;"><span class="lineCounter-0-0-12 prim">10</span>  String name<span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  String id;"><span class="lineCounter-0-0-12">11</span>  String id<span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  User(){"><span class="lineCounter-0-0-12">12</span>  <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">13</span></div><br><div class="line-0-0-13 " data-content="  }"><span class="lineCounter-0-0-12">14</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-13 " data-content="  factory User.fromJson(Map<String, dynamic> json) => _$UserFromJson(json);"><span class="lineCounter-0-0-12 prim">15</span>  <span class="token keyword">factory</span> User<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">&gt;</span> json<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _$<span class="token function">UserFromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="  Map<String, dynamic> toJson() => _$UserToJson(this);"><span class="lineCounter-0-0-12">16</span>  Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">&gt;</span> <span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _$<span class="token function">UserToJson</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">17</span></div><br><div class="line-0-0-13 " data-content="}"><span class="lineCounter-0-0-12">18</span><span class="token punctuation">}</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">19</span></div><br></code></pre><h4 id="here-is-the-generated-file" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Here is the generated file:</h4><pre class="with-bar"><code class="dart code-0-0-11" tabindex="0"><span class="wmbar-0-0-14"><span></span><span></span><span></span><span>user.g.dart</span></span><div class="line-0-0-13 " data-content="// GENERATED CODE - DO NOT MODIFY BY HAND"><span class="lineCounter-0-0-12 prim">1</span><span class="token comment">// GENERATED CODE - DO NOT MODIFY BY HAND</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">2</span></div><br><div class="line-0-0-13 " data-content="part of 'user.dart';"><span class="lineCounter-0-0-12">3</span><span class="token keyword">part</span> of <span class="token string">'user.dart'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">4</span></div><br><div class="line-0-0-13 " data-content="// **************************************************************************"><span class="lineCounter-0-0-12 prim">5</span><span class="token comment">// **************************************************************************</span></div><br><div class="line-0-0-13 " data-content="// JsonSerializableGenerator"><span class="lineCounter-0-0-12">6</span><span class="token comment">// JsonSerializableGenerator</span></div><br><div class="line-0-0-13 " data-content="// **************************************************************************"><span class="lineCounter-0-0-12">7</span><span class="token comment">// **************************************************************************</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12">8</span></div><br><div class="line-0-0-13 " data-content="User _$UserFromJson(Map<String, dynamic> json) {"><span class="lineCounter-0-0-12">9</span>User _$<span class="token function">UserFromJson</span><span class="token punctuation">(</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">&gt;</span> json<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content="  return User()"><span class="lineCounter-0-0-12 prim">10</span>  <span class="token keyword">return</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span></div><br><div class="line-0-0-13 " data-content="    ..admin = json['admin'] as bool"><span class="lineCounter-0-0-12">11</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span>admin <span class="token operator">=</span> json<span class="token punctuation">[</span><span class="token string">'admin'</span><span class="token punctuation">]</span> <span class="token operator">as</span> bool</div><br><div class="line-0-0-13 " data-content="    ..name = json['name'] as String"><span class="lineCounter-0-0-12">12</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span>name <span class="token operator">=</span> json<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">as</span> String</div><br><div class="line-0-0-13 " data-content="    ..id = json['id'] as String;"><span class="lineCounter-0-0-12">13</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span>id <span class="token operator">=</span> json<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span> <span class="token operator">as</span> String<span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content="}"><span class="lineCounter-0-0-12">14</span><span class="token punctuation">}</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">15</span></div><br><div class="line-0-0-13 " data-content="Map<String, dynamic> _$UserToJson(User instance) => <String, dynamic>{"><span class="lineCounter-0-0-12">16</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">&gt;</span> _$<span class="token function">UserToJson</span><span class="token punctuation">(</span>User instance<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">&gt;</span><span class="token punctuation">{</span></div><br><div class="line-0-0-13 " data-content="      'admin': instance.admin,"><span class="lineCounter-0-0-12">17</span>      <span class="token string">'admin'</span><span class="token punctuation">:</span> instance<span class="token punctuation">.</span>admin<span class="token punctuation">,</span></div><br><div class="line-0-0-13 " data-content="      'name': instance.name,"><span class="lineCounter-0-0-12">18</span>      <span class="token string">'name'</span><span class="token punctuation">:</span> instance<span class="token punctuation">.</span>name<span class="token punctuation">,</span></div><br><div class="line-0-0-13 " data-content="      'id': instance.id,"><span class="lineCounter-0-0-12">19</span>      <span class="token string">'id'</span><span class="token punctuation">:</span> instance<span class="token punctuation">.</span>id<span class="token punctuation">,</span></div><br><div class="line-0-0-13 " data-content="    };"><span class="lineCounter-0-0-12 prim">20</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span></div><br><div class="line-0-0-13 " data-content=""><span class="lineCounter-0-0-12 prim">21</span></div><br></code></pre><h2 id="summary" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Summary</h2><p>I am not going to go everything I learned but I will say I found out about a lot of interesting packages I didn't know existed before and it was a good time figuring out how to combine the different packages to build something.  As I finish the frontend and expand on the backend I plan to post the about this project here and eventually put the code up on github for ya'll to explore.</p><p>Until next time!
Tim</p><div class="contentnav-0-0-9" data-no-search=""><a href="#full-stack-dart" class="h1" data-content-highlight="full-stack-dart">Full Stack Dart</a><a href="#deciding-what-to-build" class="h2" data-content-highlight="deciding-what-to-build">Deciding what to build!</a><a href="#requirements" class="h3" data-content-highlight="requirements">Requirements:</a><a href="#discovering-the-world-of-dart-rest-apis" class="h2" data-content-highlight="discovering-the-world-of-dart-rest-apis">Discovering the World of Dart Rest APIs</a><a href="#databasing-in-the-world-of-dart" class="h3" data-content-highlight="databasing-in-the-world-of-dart">Databasing in the world of dart</a><a href="#example-of-data-in-the-sembast-database" class="h4" data-content-highlight="example-of-data-in-the-sembast-database">Example of data in the Sembast database</a><a href="#json-handling" class="h3" data-content-highlight="json-handling">Json handling</a><a href="#serialization-example" class="h4" data-content-highlight="serialization-example">Serialization example</a><a href="#here-is-the-generated-file" class="h4" data-content-highlight="here-is-the-generated-file">Here is the generated file:</a><a href="#summary" class="h2" data-content-highlight="summary">Summary</a></div></div><div id="-codedoc-toc" class="toc-0-0-6"><div class="content-0-0-7"><p><a href="/blog/">Home</a></p><div class="collapse-0-0-3 "><script id="AGhzENLqNY">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("AGhzENLqNY", "BW5/JozIUuMeRr9sjNL7zw==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Articles</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/blog/docs/kotlin-dsl">Kotlin DSL</a>
<a href="/blog/docs/full-stack-dart">Full Stack Dart</a></p></div></div><div class="collapse-0-0-3 "><script id="UHqegmDruw">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("UHqegmDruw", "BW5/JozIUuMeRr9sjNL7zw==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Socials</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="https://github.com/TimBritton">Github</a>
<a href="https://www.twitter.com/Ziberath">Twitter</a></p></div></div></div></div><div class="footer-0-0-5"><div class="left"><script id="lyDEAoTick">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("lyDEAoTick", "k0lYj9deiYXngpZFqYY0vQ==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div><div class="main"><div class="inside"></div></div><div class="right"><script id="PmieEGDcEM">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("PmieEGDcEM", "QtGDrozMmpfzLYU0jY3n+w==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><script id="xwDRBQfknk">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("xwDRBQfknk", "Rs0VnrLCFSwfOm1o3R6OHg==", {"namespace":"/blog"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></body></html>